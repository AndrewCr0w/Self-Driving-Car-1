<!doctype html>
<html lang="en">
  <head>
    @@include("partials/head.html", {
      "title": "Dashkit"
    })
  </head>
  <body>

    <!-- SIDEBAR
    ================================================== -->
    @@include("partials/sidebar.html", {
      "category": "pages",
      "subcategory": "",
      "page": "orders.html",
      "user": true
    })

    <!-- MAIN CONTENT
    ================================================== -->
    <div class="main-content">
      <div class="container-fluid">
        <div class="row justify-content-center">
          <div class="col-12 col-lg-10 col-xl-8">

            <!-- Header -->
            <div class="header mt-md-5">
              <div class="header-body">
                <div class="row align-items-center">
                  <div class="col">

                    <!-- Pretitle -->
                    <h6 class="header-pretitle">
                      Overview
                    </h6>

                    <!-- Title -->
                    <h1 class="header-title">
                      Machine Learning
                    </h1>

                  </div>
                </div> <!-- / .row -->

              </div>
            </div>
                <div class="row">
                    <div class="col">
                        <h2>
                         Select Datasets
                     </h2>
                    </div>
                </div>
                <div class="row">
                <div class="col-12 col-md-6">

                  <!-- Flagged Records -->
                  <div class="form-group">

                    <!-- Label -->
                    <label class="mb-1">
                      Critical Errors
                    </label>

                    <!-- Form text -->
                    <small class="form-text text-muted">
                      Emphasize records where the car struggles the most (error > 80%).
                    </small>

                    <div class="row" style="text-align:center !important">
                      <div class="col">
                        <!-- Toggle -->
                          <small class="text-muted">
                          Train
                        </small>
                        <div class="custom-control custom-checkbox-toggle" style="margin:auto">
                          <input type="checkbox" class="custom-control-input tracked-toggle" id="train-critical-errors" toggle-web-page="machine learning" toggle-name="critical errors" toggle-detail="train">
                          <label class="custom-control-label" for="train-critical-errors"></label>
                        </div>
                      </div>
                        <div class="col">
                        <!-- Toggle -->
                            <small class="text-muted">
                          Test
                        </small>
                        <div class="custom-control custom-checkbox-toggle" style="margin:auto">
                          <input type="checkbox" class="custom-control-input tracked-toggle" id="validation-critical-errors" toggle-web-page="machine learning" toggle-name="critical errors" toggle-detail="validation">
                          <label class="custom-control-label" for="validation-critical-errors"></label>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
                <div class="col-12 col-md-6">

                  <!-- Real-Time Records -->
                  <div class="form-group">

                    <!-- Label -->
                    <label class="mb-1">
                      Flagged Records
                    </label>

                    <!-- Form text -->
                    <small class="form-text text-muted">
                      Incorporate records that you flagged in the datasets section.
                    </small>

                    <div class="row" style="text-align:center !important">
                      <div class="col">
                        <!-- Toggle -->
                          <small class="text-muted">
                          Train
                        </small>
                        <div class="custom-control custom-checkbox-toggle" style="margin:auto">
                          <input type="checkbox" class="custom-control-input tracked-toggle" id="train-flags" toggle-web-page="machine learning" toggle-name="flagged records" toggle-detail="train">
                          <label class="custom-control-label" for="train-flags"></label>
                        </div>
                      </div>
                        <div class="col">
                        <!-- Toggle -->
                            <small class="text-muted">
                          Test
                        </small>
                        <div class="custom-control custom-checkbox-toggle" style="margin:auto">
                          <input type="checkbox" class="custom-control-input tracked-toggle" id="validation-flags" toggle-web-page="machine learning" toggle-name="flagged records" toggle-detail="validation">
                          <label class="custom-control-label" for="validation-flags"></label>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>

              <div class="card" id="datasets-table-div" data-toggle="lists" data-lists-values='["dataset-id", "images"]'>
                <div class="card-header">
                  <div class="row align-items-center">
                    <div class="col">
                      <!-- Search -->
                      <form class="row align-items-center">
                        <div class="col-auto pr-0">
                          <span class="fe fe-search text-muted"></span>
                        </div>
                        <div class="col">
                            <input type="search" class="form-control form-control-flush search" placeholder="Search">
                        </div>
                      </form>
                    </div>
                  </div> <!-- / .row -->
                </div>
                <div class="table-responsive">
                  <table class="table table-sm table-nowrap card-table">
                    <thead>
                      <tr>
                        <th>
                          <div class="custom-control custom-checkbox table-checkbox">
                            <input type="checkbox" class="custom-control-input" id="trainSelectAll">
                            <label class="custom-control-label" for="trainSelectAll">
                              &nbsp; Train
                            </label>
                          </div>
                        </th>
                        <th>
                          <div class="custom-control custom-checkbox table-checkbox">
                            <input type="checkbox" class="custom-control-input" id="validationSelectAll">
                            <label class="custom-control-label" for="validationSelectAll">
                              &nbsp; Validation
                            </label>
                          </div>
                        </th>
                        <th>
                          <a href="#" class="text-muted sort" data-sort="dataset-id">
                            Dataset ID
                          </a>
                        </th>
                        <th>
                          <a href="#" class="text-muted sort" data-sort="images">
                            Images
                          </a>
                        </th>
                      </tr>
                    </thead>
                    <tbody class="list" id="datasetsTbody">
                    </tbody>
                  </table>
                </div>
              </div>



              <!-- Divider -->
              <hr class="mt-4 mb-5">

              <div class="row">
                  <div class="col">

                     <h2>
                         Train Model
                     </h2>
                      <small class="form-text text-muted">
                      Start the training of a new model or resume the training of an existing model with transfer learning. The model learns from datasets specified in the previous section.
                    </small>
                  </div>
              </div>

              <div class="card" id="epochs-table-div" data-toggle="lists" data-lists-values='["dataset-id", "created-date", "images"]'>
                <div class="card-header">
                  <div class="row align-items-center">
                    <div class="col">
                      Training Error Progress
                    </div>
                  </div> <!-- / .row -->
                </div>
                <div class="table-responsive">
                  <table class="table table-sm table-nowrap card-table">
                    <thead>
                      <tr>
                        <th>
                          <a href="#" class="text-muted sort" data-sort="epoch">
                            Epoch
                          </a>
                        </th>
                        <th>
                          <a href="#" class="text-muted sort" data-sort="training">
                            Training
                          </a>
                        </th>
                        <th>
                          <a href="#" class="text-muted sort" data-sort="validation">
                            Validation
                          </a>
                        </th>
                    </thead>
                    <tbody class="list" id="epochs-tbody">
                    </tbody>
                  </table>
                </div>
              </div>


              <div class="row justify-content-around">
                  <div class="col">
                    <button type="submit" id="train-model-button" class="btn btn-primary btn-md">
                          Start Training
                      </button>
                  </div>

              </div>

              <!-- Divider -->
              <hr class="mt-4 mb-5">

              <div class="row">
                  <div class="col">
                      <h2>
                         Deploy to Laptop
                     </h2>
                      <small class="form-text text-muted">
                      This changes the model that is used to make predictions when playing datasets in the datasets section.
                    </small>
                  </div>
              </div>
              <div class="row mb-5">
                  <div class="col">
                      <button type="submit" id="deploy-model-laptop-button" class="btn btn-primary btn-md">
                          Deploy Model
                      </button>
                  </div>
              </div>

              <!-- Divider -->
              <hr class="mt-4 mb-5">

              <div class="row">
                  <div class="col">
                      <h2>
                         Deploy to Vehicle
                     </h2>
                      <small class="form-text text-muted">
                      This creates an ssh connection to your raspberry pi, terminates any processes associated with the old model, transfers the new model, starts a new model API server, and tests that the API server is able to receive images.
                    </small>
                  </div>
              </div>
              <div class="row mb-5">
                  <div class="col">
                      <button type="submit" id="deploy-model-vehicle-button" class="btn btn-primary btn-md">
                          Deploy Model
                      </button>
                  </div>
              </div>
            </form>

          </div>
        </div> <!-- / .row -->
      </div> <!-- / .container-fluid -->
    </div> <!-- / .main-content -->

    <!-- JAVASCRIPT
    ================================================== -->
    @@include("partials/scripts.html")

    <script src="assets/js/datasets-common.js"></script>
    <script src="assets/js/machine-learning.js"></script>
    <script src="assets/js/common.js"></script>

  </body>
</html>